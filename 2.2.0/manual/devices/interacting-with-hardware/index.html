<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.36.1" />
<title>Using Devices to Interact with Hardware :: REDHAWK</title>
<link rel="shortcut icon" href="../../../images/favicon.png" type="image/x-icon" />
<link href="../../../css/font-awesome.min.css" rel="stylesheet">
<link href="../../../css/nucleus.css" rel="stylesheet">
<link href="../../../theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="../../../css/bootstrap.min.css">
<script src="../../../js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/redhawksdr.github.io\/2.2.0\/";
</script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-114112954-1', 'auto');
ga('send', 'pageview');
</script>

<link rel="stylesheet" href="../../../css/custom.css">
<script src="../../../js/custom.js"></script>


    
  </head>
  <body data-url="/manual/devices/interacting-with-hardware/">
    
      <header>
  <div class="logo">
    
	
  
    <p><img src="../../../images/RedHawk_Logo_ALT_B_121px.png" alt="logo" /> REDHAWK</p>

  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://redhawksdr.github.io"  rel="noopener">
                  <i class='fa fa-book'></i> <label>Documentation</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/redhawk/releases"  rel="noopener">
                  <i class='fa fa-download'></i> <label>Downloads</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/docs"  rel="noopener">
                  <i class='fa fa-github'></i> <label>GitHub</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="../../../">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/getting-started/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../getting-started/">Getting Started With REDHAWK</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-started/process-management/" class="dd-item">
        <div>
          <a href="../../../getting-started/process-management/">
            REDHAWK’s Approach to Process Management and Interaction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/getting-started/" class="dd-item">
        <div>
          <a href="../../../getting-started/getting-started/">
            Getting Started
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/ide-quickstart/" class="dd-item">
        <div>
          <a href="../../../getting-started/ide-quickstart/">
            IDE Quickstart
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/further-reading/" class="dd-item">
        <div>
          <a href="../../../getting-started/further-reading/">
            Further Reading
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/manual/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="../../../manual/">REDHAWK Manual - 2.2.0</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
        </ul>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/redhawksdr/redhawk/releases" data-icon="octicon-cloud-download" aria-label="Download REDHAWK on GitHub">Download</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk" data-icon="octicon-star" data-show-count="true" aria-label="Star redhawksdr/redhawk on GitHub">Star</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork redhawksdr/redhawk on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/getting-started/" >
   Getting Started With REDHAWK</option>
    <option value="/manual/" >
   REDHAWK Manual - 2.2.0</option> 
    <option value="/manual/installation/" >
  - 
   Installation</option>
    <option value="/manual/components/" >
  - 
   Components</option>
    <option value="/manual/component-structure/" >
  - 
   Component Structure</option>
    <option value="/manual/shared-libraries/" >
  - 
   Shared Libraries</option>
    <option value="/manual/connections/" >
  - 
   Connections</option>
    <option value="/manual/waveforms/" >
  - 
   Waveforms</option>
    <option value="/manual/devices/" >
  - 
   Working with Devices</option> 
    <option value="/manual/devices/interacting-with-hardware/"  selected>
  -- 
   Using Devices to Interact with Hardware</option> 
      <option value="/manual/devices/interacting-with-hardware/creating-fei-device-ide/" >--- Creating an FEI Device in the IDE</option>
      <option value="/manual/devices/interacting-with-hardware/interacting-fei-device-python-package/" >--- Interacting with an FEI Device with the Python Package</option>
      <option value="/manual/devices/interacting-with-hardware/using-fei-device-ide/" >--- Using an FEI Device in the IDE</option>
  
      <option value="/manual/devices/associating-a-waveform/" >-- Associating a Waveform with an FEI Device</option>
      <option value="/manual/devices/running-components/" >-- Using Devices to Run Components</option>
      <option value="/manual/devices/interface-with-fpgas/" >-- Using Devices to Interface with FPGAs</option>
      <option value="/manual/devices/fei-data-structures/" >-- Functions and Data Structures Provided by the FrontEnd Interfaces Library and Code Generators</option>
      <option value="/manual/devices/misc/" >-- Miscellaneous FrontEnd Tuner Library Implementation Details</option>
  
    <option value="/manual/services/" >
  - 
   Services</option>
    <option value="/manual/nodes/" >
  - 
   Nodes</option>
    <option value="/manual/sandbox/" >
  - 
   Sandbox</option>
    <option value="/manual/runtime-environment/" >
  - 
   The Runtime Environment</option>
    <option value="/manual/runtime-inspection/" >
  - 
   Runtime Environment Inspection</option>
    <option value="/manual/logging/" >
  - 
   Logging</option>
    <option value="/manual/ide/" >
  - 
   Using the REDHAWK IDE</option>
    <option value="/manual/sharing-projects/" >
  - 
   Sharing REDHAWK Projects With Others</option>
    <option value="/manual/exploring-sdrroot/" >
  - 
   Exploring SDRROOT Using the REDHAWK IDE</option>
    <option value="/manual/exploring-domain/" >
  - 
   Exploring a Running Domain Using the REDHAWK IDE</option>
    <option value="/manual/appendices/" >
  - 
   Appendices</option>
    <option value="/manual/glossary/" >
  - 
   Glossary</option>
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="../../../js/lunr.min.js"></script>
        <script type="text/javascript" src="../../../js/auto-complete.js"></script>
        <link href="../../../css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/redhawksdr.github.io\/2.2.0\/";
          
        </script>
        <script type="text/javascript" src="../../../js/search.js"></script>
      </div>
    

    <h1>Using Devices to Interact with Hardware</h1>
    
    
    

<p>REDHAWK devices can be used to interact with hardware receivers and digitizers, for example, a data acquisition board or a USRP. To have a REDHAWK component use a REDHAWK device, you can establish a <a href="../../../manual/runtime-environment/applications/#usesdevice-relationship"><em>usesdevice</em> relationship</a> between a component and a device. The <em>usesdevice</em> relationship requires the component to only use that particular type of device . The REDHAWK distribution includes three devices that can be used out-of-the-box: Realtek RTL2832-based DVB dongles with Osmocom’s <code>rtl-sdr</code> library, Ettus’s USRP, and an FM RDS simulator with the <code>libRfSimulators</code> library.</p>

<p>The following example explains how to use the <code>FmRdsSimulator</code> REDHAWK device to receive and process a generated FM signal, and provide the audio and a plot of the signal.</p>

<div class="notices note" ><p>The <code>RTL2832U</code> REDHAWK device can be substituted for the <code>FmRdsSimulator</code> REDHAWK device to receive a live FM signal.</p>
</div>


<ol>
<li><p>Open the Python Sandbox and import the <code>frontend</code> module.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> ossie.utils <span style="color:#f92672">import</span> sb
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> frontend</code></pre></div></li>

<li><p>Launch the <code>FmRdsSimulator</code> device, the <code>AmFmPmBasebandDemod</code> component, the <code>fastfilter</code> component, the <code>ArbitraryRateResampler</code> component, the <code>SoundSink</code> Sandbox component, and set up the REDHAWK IDE plotter.</p>

<div class="notices note" ><p>To plot data, the REDHAWK IDE must be installed and the path to the Eclipse directory of the installed IDE must be specified in the Sandbox. This can be done through the <code>IDELocation()</code> function.</p>
</div>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">&gt;&gt;&gt;</span> sim <span style="color:#f92672">=</span> sb<span style="color:#f92672">.</span>launch(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;rh.FmRdsSimulator&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> demod<span style="color:#f92672">=</span>sb<span style="color:#f92672">.</span>launch(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;rh.AmFmPmBasebandDemod&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> filter<span style="color:#f92672">=</span>sb<span style="color:#f92672">.</span>launch(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;rh.fastfilter&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> resample<span style="color:#f92672">=</span>sb<span style="color:#f92672">.</span>launch(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;rh.ArbitraryRateResampler&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> agc<span style="color:#f92672">=</span>sb<span style="color:#f92672">.</span>launch(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;rh.agc&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> sink<span style="color:#f92672">=</span>sb<span style="color:#f92672">.</span>SoundSink()
<span style="color:#f92672">&gt;&gt;&gt;</span> sb<span style="color:#f92672">.</span>IDELocation(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;/path/to/ide/eclipse/directory&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> plot<span style="color:#f92672">=</span>sb<span style="color:#f92672">.</span>Plot()</code></pre></div></li>

<li><p>Connect devices and components.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">&gt;&gt;&gt;</span> sim<span style="color:#f92672">.</span>connect(demod)
<span style="color:#f92672">&gt;&gt;&gt;</span> demod<span style="color:#f92672">.</span>connect(filter, usesPortName<span style="color:#f92672">=</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#34;fm_dataFloat_out&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> filter<span style="color:#f92672">.</span>connect(resample)
<span style="color:#f92672">&gt;&gt;&gt;</span> resample<span style="color:#f92672">.</span>connect(agc)
<span style="color:#f92672">&gt;&gt;&gt;</span> agc<span style="color:#f92672">.</span>connect(sink)
<span style="color:#f92672">&gt;&gt;&gt;</span> agc<span style="color:#f92672">.</span>connect(plot)</code></pre></div></li>

<li><p>Configure and start all components and devices in the Sandbox.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">&gt;&gt;&gt;</span> sim<span style="color:#f92672">.</span>addAWGN<span style="color:#f92672">=</span>False
<span style="color:#f92672">&gt;&gt;&gt;</span> demod<span style="color:#f92672">.</span>freqDeviation<span style="color:#f92672">=</span><span style="color:#ae81ff">15000.0</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> filter<span style="color:#f92672">.</span>filterProps<span style="color:#f92672">.</span>freq1<span style="color:#f92672">=</span><span style="color:#ae81ff">16000.0</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> filter<span style="color:#f92672">.</span>filterProps<span style="color:#f92672">.</span>Ripple<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> filter<span style="color:#f92672">.</span>filterProps<span style="color:#f92672">.</span>Type<span style="color:#f92672">=</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#34;lowpass&#34;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> resample<span style="color:#f92672">.</span>outputRate<span style="color:#f92672">=</span><span style="color:#ae81ff">32000.0</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> sb<span style="color:#f92672">.</span>start()</code></pre></div></li>

<li><p>Create a tuner allocation structure and allocate the device.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">&gt;&gt;&gt;</span> alloc <span style="color:#f92672">=</span> frontend<span style="color:#f92672">.</span>createTunerAllocation(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;RX_DIGITIZER&#34;</span>, allocation_id<span style="color:#f92672">=</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#34;testing&#34;</span>, center_frequency<span style="color:#f92672">=</span><span style="color:#ae81ff">100.1e6</span>, sample_rate<span style="color:#f92672">=</span><span style="color:#ae81ff">256e3</span>,sample_rate_tolerance<span style="color:#f92672">=</span><span style="color:#ae81ff">20.0</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> sim<span style="color:#f92672">.</span>allocateCapacity(alloc)</code></pre></div>
<div class="notices note" ><p>Set the <code>center_frequency</code> property in the allocation structure to the radio station desired. Specifying a <code>bandwidth</code> of 0.0 indicates that any bandwidth is acceptable given that the other parameters are met.</p>
</div>
</li>
</ol>

<p>Devices may be used within the Sandbox or within a domain, in which case devices are deployed by a Device Manager at startup. The lifecycles of the devices used within the Sandbox follow the same lifecycle as the scripting environment; when the scripting environment is shutdown, the devices are shutdown. The lifecycles of devices deployed by a Device Manager follow the lifecycle of the Device Manager; when a Device Manager is started, the devices associated with that Device Manager are launched, and when the Device Manager is shutdown, the associated devices are released.</p>

<p>The configuration of a Device Manager’s Devices is controlled through an XML file called a Device Configuration Descriptor (DCD) file. Any one DCD file associated with a Device Manager instance is often referred to as a node.</p>

<p>When a node is deployed, the devices associated with the node become available to the domain. Applications can contain <em>usesdevice</em> relationships. In other words, elements in the SAD XML file can declare that the application requires the use of a particular type of device. When the application is deployed by the domain, the domain searches through the deployed devices for any one device that can satisfy the declared dependency. Any device that satisfies an application dependency may become busy and unavailable for use by other applications. When the application is released, the device is brought back into the pool of available devices.</p>

<p>Given the radio nature of REDHAWK, the interaction between the REDHAWK environment and RF devices has been standardized through a common API, known as FrontEnd Interfaces (FEI).</p>

<p>If you have RF FrontEnd hardware that you want to model in REDHAWK, you can use the FEI module to facilitate this process. The FEI module contains interfaces designed to standardize the interaction (allocation, operation, and development) of tuner devices within the REDHAWK Core Framework (between applications and radio hardware). This standard breaks the tie between the application and the hardware and provides more flexibility.</p>

<p>The FEI module defines a number of interfaces to enable users to interact with several different generic <a href="../../../manual/appendices/fei/#types-of-tuners">types of tuners</a>, including:</p>

<ul>
<li>Receiver (RX) tuner</li>
<li>Receiver Digitizer (RX_DIGITIZER) tuner</li>
<li>Channelizer (CHANNELIZER) tuner</li>
<li>Digital Down Converter (DDC) tuner</li>
<li>Receiver Digitizer Channelizer (RX_DIGITIZER_CHANNELIZER) tuner</li>
<li>Transmitter (TX) tuner</li>
<li>Receiver With Scanning Capability (RX_SCANNER_DIGITIZER) tuner</li>
</ul>

<p>Before you can interact with the tuners, you must create a REDHAWK device that is FEI compliant. The following procedure explains how to make a REDHAWK device that is compliant with FEI version 2.4.</p>



    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="../../../manual/devices/" title="Working with Devices"> <i class="fa fa-chevron-left"></i><label>Working with Devices</label></a>
    <a class="nav nav-next" href="../../../manual/devices/interacting-with-hardware/creating-fei-device-ide/" title="Creating an FEI Device in the IDE" style="margin-right: 0px;"><label>Creating an FEI Device in the IDE</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="../../../js/clipboard.min.js"></script>

<link href="../../../css/featherlight.min.css" rel="stylesheet">
<script src="../../../js/featherlight.min.js"></script>



<script src="../../../theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>