<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.36.1" />
<title>Data Transfers :: REDHAWK</title>
<link rel="shortcut icon" href="../../../../images/favicon.png" type="image/x-icon" />
<link href="../../../../css/font-awesome.min.css" rel="stylesheet">
<link href="../../../../css/nucleus.css" rel="stylesheet">
<link href="../../../../theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="../../../../css/bootstrap.min.css">
<script src="../../../../js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/redhawksdr.github.io\/2.1.3\/";
</script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-114112954-1', 'auto');
ga('send', 'pageview');
</script>

<link rel="stylesheet" href="../../../../css/custom.css">
<script src="../../../../js/custom.js"></script>

    
  </head>
  <body data-url="/manual/connections/burstio/data-transfers/">
    
      <header>
  <div class="logo">
    
	
  
    <p><img src="../../../../images/RedHawk_Logo_ALT_B_121px.png" alt="logo" /> REDHAWK</p>

  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://redhawksdr.github.io"  rel="noopener">
                  <i class='fa fa-book'></i> Documentation
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/redhawk/releases"  rel="noopener">
                  <i class='fa fa-download'></i> Downloads
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/docs"  rel="noopener">
                  <i class='fa fa-github'></i> GitHub
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="../../../../">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/getting-started/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../../getting-started/">Getting Started With REDHAWK</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-started/process-management/" class="dd-item">
        <div>
          <a href="../../../../getting-started/process-management/">
            REDHAWK’s Approach to Process Management and Interaction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/getting-started/" class="dd-item">
        <div>
          <a href="../../../../getting-started/getting-started/">
            Getting Started
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/ide-quickstart/" class="dd-item">
        <div>
          <a href="../../../../getting-started/ide-quickstart/">
            IDE Quickstart
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/further-reading/" class="dd-item">
        <div>
          <a href="../../../../getting-started/further-reading/">
            Further Reading
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/manual/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="../../../../manual/">REDHAWK Manual - 2.1.3</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
        </ul>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/redhawksdr/redhawk/releases" data-icon="octicon-cloud-download" aria-label="Download REDHAWK on GitHub">Download</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk" data-icon="octicon-star" data-show-count="true" aria-label="Star redhawksdr/redhawk on GitHub">Star</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork redhawksdr/redhawk on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/getting-started/" >
   Getting Started With REDHAWK</option>
    <option value="/manual/" >
   REDHAWK Manual - 2.1.3</option> 
    <option value="/manual/installation/" >
  - 
   Installation</option>
    <option value="/manual/components/" >
  - 
   Components</option>
    <option value="/manual/component-structure/" >
  - 
   Component Structure</option>
    <option value="/manual/shared-libraries/" >
  - 
   Shared Libraries</option>
    <option value="/manual/connections/" >
  - 
   Connections</option> 
      <option value="/manual/connections/the-connection-process/" >-- The Connection Process</option>
      <option value="/manual/connections/why-ports/" >-- Why Ports?</option>
      <option value="/manual/connections/port-access/" >-- Port Access</option>
      <option value="/manual/connections/dynamic-connections/" >-- Dynamic Connections</option>
      <option value="/manual/connections/standardized-data-interfaces/" >-- Standardized Data Interfaces</option>
    <option value="/manual/connections/bulkio/" >
  -- 
   BulkIO</option>
    <option value="/manual/connections/burstio/" >
  -- 
   BurstIO</option> 
      <option value="/manual/connections/burstio/data-transfers/"  selected>--- Data Transfers</option>
      <option value="/manual/connections/burstio/sri/" >--- Burst Signal Related Information (SRI)</option>
      <option value="/manual/connections/burstio/multiout-ports/" >--- Multi-out Ports</option>
      <option value="/manual/connections/burstio/working-with-complex-data/" >--- Working with Complex Data</option>
      <option value="/manual/connections/burstio/time-stamps/" >--- Time Stamps</option>
      <option value="/manual/connections/burstio/port-statistics/" >--- Port Statistics</option>
  
    <option value="/manual/connections/messaging/" >
  -- 
   Messaging</option>
      <option value="/manual/connections/connection-callbacks/" >-- Connection Callbacks</option>
      <option value="/manual/connections/custom-idl-interfaces/" >-- Custom IDL Interfaces</option>
  
    <option value="/manual/waveforms/" >
  - 
   Waveforms</option>
    <option value="/manual/devices/" >
  - 
   Working with Devices</option>
    <option value="/manual/services/" >
  - 
   Services</option>
    <option value="/manual/nodes/" >
  - 
   Nodes</option>
    <option value="/manual/sandbox/" >
  - 
   Sandbox</option>
    <option value="/manual/runtime-environment/" >
  - 
   The Runtime Environment</option>
    <option value="/manual/runtime-inspection/" >
  - 
   Runtime Environment Inspection</option>
    <option value="/manual/logging/" >
  - 
   Logging</option>
    <option value="/manual/ide/" >
  - 
   Using the REDHAWK IDE</option>
    <option value="/manual/sharing-projects/" >
  - 
   Sharing REDHAWK Projects With Others</option>
    <option value="/manual/exploring-sdrroot/" >
  - 
   Exploring SDRROOT Using the REDHAWK IDE</option>
    <option value="/manual/exploring-domain/" >
  - 
   Exploring a Running Domain Using the REDHAWK IDE</option>
    <option value="/manual/appendices/" >
  - 
   Appendices</option>
    <option value="/manual/glossary/" >
  - 
   Glossary</option>
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="../../../../js/lunr.min.js"></script>
        <script type="text/javascript" src="../../../../js/auto-complete.js"></script>
        <link href="../../../../css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/redhawksdr.github.io\/2.1.3\/";
          
        </script>
        <script type="text/javascript" src="../../../../js/search.js"></script>
      </div>
    

    <h1>Data Transfers</h1>
    
    
    
    

<p>BurstIO data transfers happen through the <code>pushBurst()</code> and <code>pushBursts()</code> method calls of a REDHAWK resource’s (component or device) BurstIO port object. A resource can use these push methods to transfer bursts and their associated meta data from one resource to another within the resource’s service function. Similar to BulkIO, BurstIO interfaces provide the same <code>BULKIO::PrecisionUTCTime</code> time stamp for each data vector of the burst. BurstIO defines a new <code>BurstSRI</code> SRI object that enables developers to further describe the signaling environment and the data transformations. These fields are further described in <a href="../../../../manual/connections/burstio/sri/">Burst Signal Related Information (SRI)</a>.</p>

<h3 id="input">Input</h3>

<p>A resource with a provides-port (input), grabs data from the port using the <code>getBurst()</code> method. This method returns a <code>PacketType</code> object (described in <a href="#burst-packet-accessors">Burst Packet Accessors</a>) from the input port’s data queue or a null/None value if the queue is empty.</p>

<p>The following code snippet is an example of the <code>getBurst()</code> method.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">/**
</span><span style="color:#75715e">   Grab data from the port&#39;s getBurst method
</span><span style="color:#75715e"> */</span>
burstio<span style="color:#f92672">::</span>BurstShortIn<span style="color:#f92672">::</span>PacketType <span style="color:#f92672">*</span>pkt;
pkt <span style="color:#f92672">=</span> inShortPort<span style="color:#f92672">-&gt;</span>getBurst( bulkio<span style="color:#f92672">::</span>Const<span style="color:#f92672">::</span>NON_BLOCKING );

<span style="color:#75715e">// check if a valid packet was returned
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> ( pkt <span style="color:#f92672">==</span> NULL ) {
  <span style="color:#66d9ef">return</span> NOOP;
}

<span style="color:#75715e">// check for EOS
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> ( pkt<span style="color:#f92672">-&gt;</span>getEOS() ) {
  outShortPort<span style="color:#f92672">-&gt;</span>pushBurst(pkt<span style="color:#f92672">-&gt;</span>getSequence(), pkt<span style="color:#f92672">-&gt;</span>getSRI(), pkt<span style="color:#f92672">-&gt;</span>getEOS());
}

...  perform algorithm on the data: pkt<span style="color:#f92672">-&gt;</span>getData() ... or pkt<span style="color:#f92672">-&gt;</span>getSequence()</code></pre></div>
<h5 id="burst-packet-accessors">Burst Packet Accessors</h5>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Type</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><code>getSize</code></td>
<td align="left">size</td>
<td align="left">The number of samples in the burst. For complex data, the number of samples is half this value.</td>
</tr>

<tr>
<td align="left"><code>getData</code></td>
<td align="left">pointer to &lt;TYPE&gt;</td>
<td align="left">Pointer to the data samples.</td>
</tr>

<tr>
<td align="left"><code>getSequence</code></td>
<td align="left">container to &lt;TYPE&gt;</td>
<td align="left">Returns an iterable sequence to the data samples.</td>
</tr>

<tr>
<td align="left"><code>getEOS</code></td>
<td align="left">boolean</td>
<td align="left">Returns <code>TRUE</code> if this is the last burst in a stream.</td>
</tr>

<tr>
<td align="left"><code>getSRI</code></td>
<td align="left"><code>BULKIO::StreamSRI</code></td>
<td align="left">The SRI (metadata) associated with the sample data.</td>
</tr>

<tr>
<td align="left"><code>getTime</code></td>
<td align="left">PrecisionUTCTime</td>
<td align="left">The epoch birth date of the first sample of the sequence.</td>
</tr>

<tr>
<td align="left"><code>blockOccurred</code></td>
<td align="left">boolean</td>
<td align="left">Returns <code>TRUE</code> if an incoming burst was blocked.</td>
</tr>

<tr>
<td align="left"><code>isComplex</code></td>
<td align="left">boolean</td>
<td align="left">Returns <code>TRUE</code> if data is complex.</td>
</tr>

<tr>
<td align="left"><code>getComplexData</code></td>
<td align="left">pointer to &lt;TYPE&gt;</td>
<td align="left">Pointer to a vector of complex pairs.</td>
</tr>
</tbody>
</table>

<h3 id="output">Output</h3>

<p>Due to the asynchronous nature of BurstIO data, the interface enables the developer to control the output (egress) of bursts from a resource. The 2 main method calls to push burst data downstream from one resource to another are: <code>pushBursts()</code> and <code>pushBurst()</code>. <code>pushBursts()</code> enables multiple bursts to be sent directly downstream as a sequence of <code>BurstType</code> objects, whereas, <code>pushBurst()</code> provides an interface to queue a single burst to be pushed but follows policy directives based on the number of bursts, total queue size, and send intervals. Both methods route burst data using the specified routing constraints and connection filter which are controlled using the following interface:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">// this route streams with stream ID == &#34;data-stream-one&#34; to a connection
</span><span style="color:#75715e">// identified as &#34;connection-one&#34;
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>addConnectionFilter(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;data-stream-one&#34;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;connection-one&#34;</span>);</code></pre></div>
<p>or</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">// update connection filter using the Component&#39;s connection property
</span><span style="color:#75715e">// &#34;myConnectionTable&#34;
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>updateConnectionFilter(myConnectionTable);

<span style="color:#75715e">// this sets the stream filter to only route streams to specific connections
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>setRoutingMode(burstio<span style="color:#f92672">::</span>ROUTE_CONNECTION_STREAMS);</code></pre></div>
<h5 id="routing-control-directives">Routing Control Directives</h5>

<table>
<thead>
<tr>
<th align="left"><strong>Routine Directive</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><code>ROUTE_ALL_INTERLEAVED</code></td>
<td align="left">All connections receive all streams; streams are interleaved in one buffer.</td>
</tr>

<tr>
<td align="left"><code>ROUTE_ALL_STREAMS</code></td>
<td align="left">All connections receive all streams; streams are buffered independently.</td>
</tr>

<tr>
<td align="left"><code>ROUTE_CONNECTION_STREAMS</code></td>
<td align="left">Each connection may subscribe to a set of streams; streams are buffered independently.</td>
</tr>
</tbody>
</table>

<p>The major difference between the <code>pushBurst()</code> and <code>pushBursts()</code> methods is the ability to manage how and when the data is transferred. Only burst traffic that is queued using <code>pushBurst()</code> is controlled by the policy constraints, whereas, calls to <code>pushBursts()</code> are directly sent downstream to the connected resource.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">// this method will limit the maximum number of bursts that
</span><span style="color:#75715e">// can be queued  before they are sent
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>setMaxBursts(size_t count);

<span style="color:#75715e">// this method will enable threshold monitoring for the amount of sample
</span><span style="color:#75715e">// data that exceeds this limit before sending data downstream
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>setByteThreshold(size_t bytes);

<span style="color:#75715e">// this method will enable the latency time between the sending of
</span><span style="color:#75715e">// available data downstream
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>setLatencyThreshold( <span style="color:#66d9ef">long</span> usec );</code></pre></div>
<p>The following code snippet is an example of the <code>pushBurst()</code> method call for a vector data sample that is queued to the port.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span> BurstShortOut<span style="color:#f92672">::</span>NativeType <span style="color:#f92672">&gt;</span> data;
my_transform(data);

BURSTIO<span style="color:#f92672">::</span>BurstSRI  sri;
burstio<span style="color:#f92672">::</span>BurstShortOut<span style="color:#f92672">::</span>BurstType burst;
burst.SRI <span style="color:#f92672">=</span> sri;
burst.EOS <span style="color:#f92672">=</span> false;
burst.T <span style="color:#f92672">=</span> burstio<span style="color:#f92672">::</span>utils<span style="color:#f92672">::</span>now();
burst.data.length(data.size());
<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span> data.size(); i<span style="color:#f92672">++</span> ) burst.data[i] <span style="color:#f92672">=</span> data[i];

<span style="color:#75715e">// this queues a single burst
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>pushBurst( burst );

<span style="color:#75715e">// or
</span><span style="color:#75715e"></span>
std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span> BurstShortOut<span style="color:#f92672">::</span>NativeType <span style="color:#f92672">&gt;</span> data;
my_transform(data);

<span style="color:#75715e">// this queues a single burst
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>pushBurst( data, sri, burstio<span style="color:#f92672">::</span>utils<span style="color:#f92672">::</span>now() );</code></pre></div>
<p>The following code snippet is an example of the <code>pushBursts()</code> method call for a vector data sample. The bursts from this call are directly passed downstream to the connected resource.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span> BurstShortOut<span style="color:#f92672">::</span>NativeType <span style="color:#f92672">&gt;</span> data;
my_transform(data);

BurstShortOut<span style="color:#f92672">::</span>BurstSequenceType bursts;
bursts.length(<span style="color:#ae81ff">1</span>);
burstio<span style="color:#f92672">::</span>BurstShortOut<span style="color:#f92672">::</span>BurstType burst;
burst.SRI <span style="color:#f92672">=</span> sri;
burst.EOS <span style="color:#f92672">=</span> false;
burst.T <span style="color:#f92672">=</span> burstio<span style="color:#f92672">::</span>utils<span style="color:#f92672">::</span>now();
burst.data.length(data.size());
<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span> data.size(); i<span style="color:#f92672">++</span> ) burst.data[i] <span style="color:#f92672">=</span> data[i];
bursts[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> burst;

<span style="color:#75715e">// this pushes the burst directly downstream because
</span><span style="color:#75715e">// it is a sequence of bursts
</span><span style="color:#75715e"></span>shortBurstPort<span style="color:#f92672">-&gt;</span>pushBursts(bursts);</code></pre></div>

    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="../../../../manual/connections/burstio/" title="BurstIO"> <i class="fa fa-chevron-left"></i><label>BurstIO</label></a>
    <a class="nav nav-next" href="../../../../manual/connections/burstio/sri/" title="Burst Signal Related Information (SRI)" style="margin-right: 0px;"><label>Burst Signal Related Information (SRI)</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="https://github.com/redhawksdr/redhawksdr.github.io/edit/develop/content/manual/connections/burstio/data-transfers.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="../../../../js/clipboard.min.js"></script>

<link href="../../../../css/featherlight.min.css" rel="stylesheet">
<script src="../../../../js/featherlight.min.js"></script>



<script src="../../../../theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>