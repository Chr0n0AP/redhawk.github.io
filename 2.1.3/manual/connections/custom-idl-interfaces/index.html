<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.36.1" />
<title>Custom IDL Interfaces :: REDHAWK</title>
<link rel="shortcut icon" href="../../../images/favicon.png" type="image/x-icon" />
<link href="../../../css/font-awesome.min.css" rel="stylesheet">
<link href="../../../css/nucleus.css" rel="stylesheet">
<link href="../../../theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="../../../css/bootstrap.min.css">
<script src="../../../js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/redhawksdr.github.io\/2.1.3\/";
</script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-114112954-1', 'auto');
ga('send', 'pageview');
</script>

<link rel="stylesheet" href="../../../css/custom.css">
<script src="../../../js/custom.js"></script>


    
  </head>
  <body data-url="/manual/connections/custom-idl-interfaces/">
    
      <header>
  <div class="logo">
    
	
  
    <p><img src="../../../images/RedHawk_Logo_ALT_B_121px.png" alt="logo" /> REDHAWK</p>

  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://redhawksdr.github.io"  rel="noopener">
                  <i class='fa fa-book'></i> <label>Documentation</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/redhawk/releases"  rel="noopener">
                  <i class='fa fa-download'></i> <label>Downloads</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/docs"  rel="noopener">
                  <i class='fa fa-github'></i> <label>GitHub</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="../../../">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/getting-started/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../getting-started/">Getting Started With REDHAWK</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-started/process-management/" class="dd-item">
        <div>
          <a href="../../../getting-started/process-management/">
            REDHAWKâ€™s Approach to Process Management and Interaction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/getting-started/" class="dd-item">
        <div>
          <a href="../../../getting-started/getting-started/">
            Getting Started
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/ide-quickstart/" class="dd-item">
        <div>
          <a href="../../../getting-started/ide-quickstart/">
            IDE Quickstart
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/further-reading/" class="dd-item">
        <div>
          <a href="../../../getting-started/further-reading/">
            Further Reading
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/manual/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="../../../manual/">REDHAWK Manual - 2.1.3</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
        </ul>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/redhawksdr/redhawk/releases" data-icon="octicon-cloud-download" aria-label="Download REDHAWK on GitHub">Download</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk" data-icon="octicon-star" data-show-count="true" aria-label="Star redhawksdr/redhawk on GitHub">Star</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork redhawksdr/redhawk on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/getting-started/" >
   Getting Started With REDHAWK</option>
    <option value="/manual/" >
   REDHAWK Manual - 2.1.3</option> 
    <option value="/manual/installation/" >
  - 
   Installation</option>
    <option value="/manual/components/" >
  - 
   Components</option>
    <option value="/manual/component-structure/" >
  - 
   Component Structure</option>
    <option value="/manual/shared-libraries/" >
  - 
   Shared Libraries</option>
    <option value="/manual/connections/" >
  - 
   Connections</option> 
      <option value="/manual/connections/the-connection-process/" >-- The Connection Process</option>
      <option value="/manual/connections/why-ports/" >-- Why Ports?</option>
      <option value="/manual/connections/port-access/" >-- Port Access</option>
      <option value="/manual/connections/dynamic-connections/" >-- Dynamic Connections</option>
      <option value="/manual/connections/standardized-data-interfaces/" >-- Standardized Data Interfaces</option>
    <option value="/manual/connections/bulkio/" >
  -- 
   BulkIO</option>
    <option value="/manual/connections/burstio/" >
  -- 
   BurstIO</option>
    <option value="/manual/connections/messaging/" >
  -- 
   Messaging</option>
      <option value="/manual/connections/connection-callbacks/" >-- Connection Callbacks</option>
      <option value="/manual/connections/custom-idl-interfaces/"  selected>-- Custom IDL Interfaces</option>
  
    <option value="/manual/waveforms/" >
  - 
   Waveforms</option>
    <option value="/manual/devices/" >
  - 
   Working with Devices</option>
    <option value="/manual/services/" >
  - 
   Services</option>
    <option value="/manual/nodes/" >
  - 
   Nodes</option>
    <option value="/manual/sandbox/" >
  - 
   Sandbox</option>
    <option value="/manual/runtime-environment/" >
  - 
   The Runtime Environment</option>
    <option value="/manual/runtime-inspection/" >
  - 
   Runtime Environment Inspection</option>
    <option value="/manual/logging/" >
  - 
   Logging</option>
    <option value="/manual/ide/" >
  - 
   Using the REDHAWK IDE</option>
    <option value="/manual/sharing-projects/" >
  - 
   Sharing REDHAWK Projects With Others</option>
    <option value="/manual/exploring-sdrroot/" >
  - 
   Exploring SDRROOT Using the REDHAWK IDE</option>
    <option value="/manual/exploring-domain/" >
  - 
   Exploring a Running Domain Using the REDHAWK IDE</option>
    <option value="/manual/appendices/" >
  - 
   Appendices</option>
    <option value="/manual/glossary/" >
  - 
   Glossary</option>
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="../../../js/lunr.min.js"></script>
        <script type="text/javascript" src="../../../js/auto-complete.js"></script>
        <link href="../../../css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/redhawksdr.github.io\/2.1.3\/";
          
        </script>
        <script type="text/javascript" src="../../../js/search.js"></script>
      </div>
    

    <h1>Custom IDL Interfaces</h1>
    
    
    
    

<p>REDHAWK provides FEI and standard CF interfaces (like CF::Resource) to control entities and promote interoperability. There are some use cases where you may find the need to use custom IDL to control entities. For these use cases, you can create custom IDL projects in the <a href="../../../manual/ide/">IDE</a>.</p>

<p>Adding ports from either the FEI interface or a custom IDL interface to a component or device allows that entity to control other entities through CORBA. Because of the generic nature of these ports, it is not possible to create a language mapping like BulkIO, so interaction is through the standard CORBA API, a full description of which is outside the scope of this manual. However, the REDHAWK code generators will generate ports that simplify the interaction with the port. The following sections explain uses (output) ports because they are the most likely to be generated, for example, to control FEI devices.</p>

<h3 id="connectivity-feedback">Connectivity Feedback</h3>

<p>In all three supported languages, an FEI, standard CF, or custom IDL port will have all methods and attributes mapped to the port, and the port will then delegate the call to the remote connection. In REDHAWK, it is possible for a port to have no connections, one connection, or many connections. Each of these conditions can create issues for someone using a port for communications; for example, if a control request is sent out and there are no connections, then the user should be informed that the request did not go anywhere.</p>

<p>At the same time, not all methods are the same. Some methods push data in only one direction, some methods have a return value, and some methods have arguments that are pointers to be filled with information (out or inout arguments). When a port method is called and it is not possible for the port to make a call or for the call to be unambiguous (for example, if two connections exist and the function contains a return value), then a PortCallError is raised in the user code. The table below describes the method signature criteria met and its corresponding behavior.</p>

<h5 id="control-method-and-error-conditions-based-on-connectivity">Control method and error conditions based on connectivity</h5>

<table>
<thead>
<tr>
<th align="left"><strong>method signature</strong></th>
<th align="left"><strong>no connection</strong></th>
<th align="left"><strong>one connection</strong></th>
<th align="left"><strong>many connections</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">No return value, only in</td>
<td align="left">Error</td>
<td align="left">ok</td>
<td align="left">ok</td>
</tr>

<tr>
<td align="left">Has return value</td>
<td align="left">Error</td>
<td align="left">ok</td>
<td align="left">Error</td>
</tr>

<tr>
<td align="left">has inout</td>
<td align="left">Error</td>
<td align="left">ok</td>
<td align="left">Error</td>
</tr>

<tr>
<td align="left">has out</td>
<td align="left">Error</td>
<td align="left">ok</td>
<td align="left">Error</td>
</tr>
</tbody>
</table>

<p>If a method has any kind of return value as part of its non-exception API (manifested as a non-void return value, or an out or inout argument), then an exception is raised if there is more than one connection out of the port. Furthermore, if a call is attempted with no connection in effect, an error is raised.</p>

<h3 id="connection-selection">Connection Selection</h3>

<p>While the generated port class triggers an error when the desired connection is ambiguous, it also contains an API to allow the developer to select which connection should be exercised. Each method has an optional argument, <code>connection_id</code>, that allows the caller to disambiguate which connection should be exercised. The default value behavior will use the last connection made. If the <code>connection_id</code> specified does not exist, a <code>PortCallError</code> will be raised.</p>

<div class="notices note" ><p>In the following sections, the same pattern used to disambiguate the connections is provided in all three supported languages.</p>
</div>


<p>The following code example uses the default behavior when calling the read method of the CF::File interface.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"> CF<span style="color:#f92672">::</span>OctetSequence_var _data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CF<span style="color:#f92672">::</span>OctetSequence();
 CF<span style="color:#f92672">::</span>OctetSequence_out data(_data);
 <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>file_out<span style="color:#f92672">-&gt;</span>read(data, <span style="color:#ae81ff">10</span>); <span style="color:#f92672">//</span> read <span style="color:#ae81ff">10</span> characters from the last connection made to the port</code></pre></div>
<p>The following code example disambiguates the read call to a specific connection, <code>connection1</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"> CF<span style="color:#f92672">::</span>OctetSequence_var _data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CF<span style="color:#f92672">::</span>OctetSequence();
 CF<span style="color:#f92672">::</span>OctetSequence_out data(_data);
 <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>file_out<span style="color:#f92672">-&gt;</span>read(data, <span style="color:#ae81ff">10</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;connection1&#34;</span>); <span style="color:#f92672">//</span> read <span style="color:#ae81ff">10</span> characters from the connection called <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;connection1&#34;</span></code></pre></div>
<p>To view the connections that are available, use the following code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"> std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> _connection_ids <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>file_out<span style="color:#f92672">-&gt;</span>getConnectionIds();</code></pre></div>
<h3 id="method-mapping">Method Mapping</h3>

<p>Method name mapping follows the pattern described in <a href="#connection-selection">Connection Selection</a>; namely that methods have the same name as described in the IDL with an additional argument (to be optionally exercised) that can specify which connection should be used. Attributes are mapped as functions to the CORBA objects. REDHAWK provides additional APIs to disambiguate these calls for multiple connections.</p>

<h4 id="reading-attributes">Reading Attributes</h4>

<p>Reading attributes is performed by invoking the name of the attribute as a function. For example, if the port, <code>my_port</code>, contains the string attribute <code>greeting</code>, the value of <code>greeting</code> can be retrieved as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"> std<span style="color:#f92672">::</span>string _greeting <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>my_port<span style="color:#f92672">-&gt;</span>greeting();</code></pre></div>
<p>To retrieve the value from a specific connection, the <code>_get_</code> prefix is needed:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"> std<span style="color:#f92672">::</span>string _greeting <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>my_port<span style="color:#f92672">-&gt;</span>_get_greeting(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;some_connection_name&#34;</span>);</code></pre></div>
<h4 id="writing-attributes">Writing Attributes</h4>

<p>Writing attributes in C++ and Java involves invoking the function with the appropriate argument:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"> <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>my_port<span style="color:#f92672">-&gt;</span>greeting(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;hello&#34;</span>); <span style="color:#75715e">// write &#34;hello&#34; to the attribute &#34;greeting&#34;
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>my_port<span style="color:#f92672">-&gt;</span>greeting(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;hello&#34;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;some_connection_name&#34;</span>); <span style="color:#f92672">//</span> write <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;hello&#34;</span> to the attribute <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;greeting&#34;</span> over connection <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;some_connection_name&#34;</span></code></pre></div>
<p>Python requires the prefix <code>_set_</code> because it cannot be overloaded:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"> self<span style="color:#f92672">.</span>my_port<span style="color:#f92672">.</span>_set_greeting(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;hello&#34;</span>) <span style="color:#75715e"># write &#34;hello&#34; to the attribute &#34;greeting&#34;</span>
 self<span style="color:#f92672">.</span>my_port<span style="color:#f92672">.</span>_set_greeting(<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;hello&#34;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;some_connection_name&#34;</span>) <span style="color:#75715e"># write &#34;hello&#34; to the attribute &#34;greeting&#34; over connection &#34;some_connection_name&#34;</span></code></pre></div>

    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="../../../manual/connections/connection-callbacks/" title="Connection Callbacks"> <i class="fa fa-chevron-left"></i><label>Connection Callbacks</label></a>
    <a class="nav nav-next" href="../../../manual/waveforms/" title="Waveforms" style="margin-right: 0px;"><label>Waveforms</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="../../../js/clipboard.min.js"></script>

<link href="../../../css/featherlight.min.css" rel="stylesheet">
<script src="../../../js/featherlight.min.js"></script>



<script src="../../../theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>