<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.36.1" />
<title>Domain Manager :: REDHAWK</title>
<link rel="shortcut icon" href="../../../images/favicon.png" type="image/x-icon" />
<link href="../../../css/font-awesome.min.css" rel="stylesheet">
<link href="../../../css/nucleus.css" rel="stylesheet">
<link href="../../../theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="../../../css/bootstrap.min.css">
<script src="../../../js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/redhawksdr.github.io\/2.2.1\/";
</script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-114112954-1', 'auto');
ga('send', 'pageview');
</script>

<link rel="stylesheet" href="../../../css/custom.css">
<script src="../../../js/custom.js"></script>


    
  </head>
  <body data-url="/manual/runtime-environment/domain-manager/">
    
      <header>
  <div class="logo">
    
	
  
    <p><a href="../../../../"><img src="../../../images/RedHawk_Logo_ALT_B_121px.png" alt="logo" /> REDHAWK</a></p>

  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://redhawksdr.github.io"  rel="noopener">
                  <i class='fa fa-home'></i> <label>Home</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/redhawk/releases"  rel="noopener">
                  <i class='fa fa-download'></i> <label>Downloads</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/redhawksdr/docs"  rel="noopener">
                  <i class='fa fa-github'></i> <label>GitHub</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="../../../">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/getting-started/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../getting-started/">Getting Started With REDHAWK</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/getting-started/process-management/" class="dd-item">
        <div>
          <a href="../../../getting-started/process-management/">
            REDHAWK’s Approach to Process Management and Interaction
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/getting-started/" class="dd-item">
        <div>
          <a href="../../../getting-started/getting-started/">
            Getting Started
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/ide-quickstart/" class="dd-item">
        <div>
          <a href="../../../getting-started/ide-quickstart/">
            IDE Quickstart
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/getting-started/further-reading/" class="dd-item">
        <div>
          <a href="../../../getting-started/further-reading/">
            Further Reading
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/manual/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="../../../manual/">REDHAWK Manual - 2.2.1</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
        </ul>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/redhawksdr/redhawk/releases" data-icon="octicon-cloud-download" aria-label="Download REDHAWK on GitHub">Download</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk" data-icon="octicon-star" data-show-count="true" aria-label="Star redhawksdr/redhawk on GitHub">Star</a>


<a class="github-button" href="https://github.com/redhawksdr/redhawk/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork redhawksdr/redhawk on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/getting-started/" >
   Getting Started With REDHAWK</option>
    <option value="/manual/" >
   REDHAWK Manual - 2.2.1</option> 
    <option value="/manual/installation/" >
  - 
   Installation</option>
    <option value="/manual/components/" >
  - 
   Components</option>
    <option value="/manual/component-structure/" >
  - 
   Component Structure</option>
    <option value="/manual/shared-libraries/" >
  - 
   Shared Libraries</option>
    <option value="/manual/connections/" >
  - 
   Connections</option>
    <option value="/manual/waveforms/" >
  - 
   Waveforms</option>
    <option value="/manual/services/" >
  - 
   Services</option>
    <option value="/manual/devices/" >
  - 
   Working with Devices</option>
    <option value="/manual/nodes/" >
  - 
   Nodes</option>
    <option value="/manual/sandbox/" >
  - 
   Sandbox</option>
    <option value="/manual/runtime-environment/" >
  - 
   The Runtime Environment</option> 
      <option value="/manual/runtime-environment/launching-a-domain/" >-- Launching a Domain</option>
      <option value="/manual/runtime-environment/domain-manager/"  selected>-- Domain Manager</option>
      <option value="/manual/runtime-environment/file-system/" >-- File System</option>
      <option value="/manual/runtime-environment/applications/" >-- Applications</option>
      <option value="/manual/runtime-environment/application-factory/" >-- The Application Factory</option>
      <option value="/manual/runtime-environment/device-manager/" >-- The Device Manager</option>
      <option value="/manual/runtime-environment/allocation-manager/" >-- The Allocation Manager</option>
      <option value="/manual/runtime-environment/connection-manager/" >-- The Connection Manager</option>
      <option value="/manual/runtime-environment/events/" >-- Events</option>
  
    <option value="/manual/runtime-inspection/" >
  - 
   Runtime Environment Inspection</option>
    <option value="/manual/logging/" >
  - 
   Logging</option>
    <option value="/manual/ide/" >
  - 
   Using the REDHAWK IDE</option>
    <option value="/manual/exploring-sdrroot/" >
  - 
   Exploring SDRROOT Using the REDHAWK IDE</option>
    <option value="/manual/sharing-projects/" >
  - 
   Sharing REDHAWK Projects With Others</option>
    <option value="/manual/exploring-domain/" >
  - 
   Exploring a Running Domain Using the REDHAWK IDE</option>
    <option value="/manual/appendices/" >
  - 
   Appendices</option>
    <option value="/manual/glossary/" >
  - 
   Glossary</option>
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="../../../js/lunr.min.js"></script>
        <script type="text/javascript" src="../../../js/auto-complete.js"></script>
        <link href="../../../css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/redhawksdr.github.io\/2.2.1\/";
          
        </script>
        <script type="text/javascript" src="../../../js/search.js"></script>
      </div>
    

    <h2 class="title">Domain Manager</h2>

    
    
    
    

<p>The <a href="../../../manual/glossary/#domain-manager">Domain Manager</a> is in charge of the control and configuration of the entire systems <a href="../../../manual/glossary/#domain">domain</a>.</p>

<p>Its primary responsibilities can be grouped into three main categories:</p>

<ul>
<li>Registration</li>
<li>Core Framework (CF) administration</li>
<li>Human Computer Interfacing</li>
</ul>

<p>Each domain has a single Domain Manager that keeps track of a <a href="../../../manual/glossary/#file-manager">File Manager</a>, a set of <a href="../../../manual/glossary/#device-manager">Device Managers</a>, and a set of <a href="../../../manual/glossary/#application-factory">Application Factories</a>. The Domain Manager maintains information on all aspects of the <a href="../../../manual/glossary/#waveform">waveform’s</a> implementations contained within its system.</p>

<p>The Domain Manager is configured from the Domain Manager Configuration Descriptor (DMD) XML file that is located at <code>$SDRROOT/dom/Domain</code>. This file contains the domain’s name, an ID and a description of the domain.</p>

<h3 id="launching-a-domain-manager-from-the-command-line">Launching a Domain Manager from the command line</h3>

<p>Enter the following commands to launch a Domain Manager from the command line:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nodeBooter -D
INFO:DomainManager - Starting Domain Manager
INFO:DomainManager - Starting ORB!</code></pre></div>
<h3 id="registration">Registration</h3>

<p>The Domain Manager is able to maintain information about all working parts and interactions in the environment through registration. It can be thought of as the Domain Manager’s responsibility of bookkeeping for the system.</p>

<p>Any time a Device Manager, <a href="../../../manual/glossary/#device">device</a>, <a href="../../../manual/glossary/#service">service</a>, or <a href="../../../manual/glossary/#application">application</a> is created within the system, it is registered through the Domain Manager. Likewise, when they are destroyed, they are unregistered from the Domain Manager. These tasks are handled through a series of <code>register()</code> and <code>unregister()</code> functions for each of the different modules the Domain Manager is responsible for supporting.</p>

<h3 id="core-framework-administration">Core Framework Administration</h3>

<p>The Domain Manager has CF administrative duties that are required to provide interface access to its registered items. The API of the Device Managers, ApplicationFactories, applications, and the FileManager that are registered in the domain are made available to be accessed from an external piece of software.</p>

<p>This is made available so that changes can be made from outside of the running domain. A Python module is distributed with REDHAWK that allows for simple interfacing with a running domain. This allows for <a href="../../../manual/runtime-inspection/">runtime inspection</a> and tweaking of the environment.</p>

<h3 id="human-computer-interfacing">Human Computer Interfacing</h3>

<p>The Domain Manager is also responsible for providing functionality that allows for simple interaction between the user and the system, granting the user control over the running domain. Functionality exists that provides the ability to configure the domain, get its current device, service and application capabilities and launch maintenance functions.</p>

<p>Capabilities are managed through a series of data structure sequences. Lists are maintained for all services, Device Managers and devices that have been registered with the domain. Each entry in the list contains name and identification information as well as a reference to the object that has been registered. For any application that has been installed, a reference to its Application Factory is stored in a list along with its name and identification information. Once the application has started, its reference, along with all relevant identification, <a href="../../../manual/glossary/#component">component</a>, connection and ordering information is stored for later retrieval.</p>

<h3 id="logging">Logging</h3>

<p>By default the Domain Manager will output messages to the console. You can provide a custom logging configuration file and logging level using the following options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nodeBooter -D -endlogcfgfile &lt;config file&gt;  -enddebug &lt;5<span style="color:#f92672">=</span>TRACE,4<span style="color:#f92672">=</span>DEBUG,3<span style="color:#f92672">=</span>INFO,2<span style="color:#f92672">=</span>WARN,1<span style="color:#f92672">=</span>ERROR,0<span style="color:#f92672">=</span>FATAL&gt;</code></pre></div>
<p>This file location will be used as the default value when resolving the <code>LOGGING_CONFIG_URI</code> as well as the <code>DEBUG_LEVEL</code> during deployments. For further details about logging configuration files and <code>LOGGING_CONFIG_URI</code> resolution, consult <a href="../../../manual/logging/">Logging</a>.</p>

<p>To override the default resolution of the <code>LOGGING_CONFIG_URI</code> during deployments, the Domain Manager can be launched with an option to use a <a href="../../../manual/appendices/logging-config-plugin/">plugin library</a> (<code>libossielogcfg.so</code>) for this resolution. To activate this feature launch the Domain Manager as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nodeBooter -D --useloglib</code></pre></div>
<h3 id="persistence-store">Persistence Store</h3>

<p>A unique feature of the Domain Manager is the ability to recover from catastrophic failures through domain persistence.
In order to make use of persistence, the CF must be compiled with support enabled.
As of REDHAWK 2.2.1, this is the default build setting.
To disable this support when building the CF, refer to <a href="../../../manual/appendices/source-installation/#installing-the-framework-from-source">Installing the Framework from Source</a>.</p>

<p>With this feature enabled, all bookkeeping data structures that are used to maintain information about services, devices, Device Managers, applications, and Application Factories are written to a database whenever any change is made to them. This database file needs to be specified upon launch of the Domain Manager with the <code>--dburl &lt;file path&gt;</code> argument:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nodeBooter -D --dburl $SDRROOT/dom/persistence.sqlite</code></pre></div>
<div class="notices warning" ><p>The <code>--dburl</code> argument only applies to the Domain Manager.
It is an error to provide <code>--dburl</code> when only launching a Device Manager.</p>
</div>


<p>During normal operation, all IDs and references to objects within the Domain are stored. If the Domain Manager fails, objects such as components, devices, services, and Device Managers continue to run because they are processes separate from the Domain Manager process. This separation allows the Domain Manager to be relaunched. Once relaunched, the Domain Manager is returned to its last known good state by reloading the database file passed as the <code>dburl</code> argument to <code>nodeBooter</code>. All connections to Device Managers, devices, services, and components are restored; Applications residing in the Domain Manager process space are also restored.</p>

<h4 id="system-wide-reset">System-Wide Reset</h4>

<p>When persistence is enabled and the Domain Manager suffers a catastrophic failure, the data storage functions may lose synchronization. (For example, the <a href="../../../manual/glossary/#naming-service">naming service</a> may be out of sync with the object database.) If this occurs, it is necessary to erase the database, clean out the <a href="../../../manual/glossary/#event-service">event service</a>, and clean out the naming service. In such instances, the Device Managers that are operating in the system, which may span multiple computers, also need to be reset to an idle state.</p>

<p>To deal with such instances, each Device Manager contains a separate thread that checks to see if the Domain Manager contains a reference to this Device Manager. If the reference is missing, the Device Manager assumes that the Domain Manager has been restarted to a blank state, and the Device Manager resets itself (as well as all devices and services that it controls). After resetting itself, the Device Manager re-associates with the Domain Manager. The frequency with which the Device Manager checks with the Domain Manager is controlled by the Device Manager <a href="../../../manual/glossary/#property">property</a>, <code>DOMAIN_REFRESH</code>. This property’s default value is 10 seconds but can be set to any system-appropriate setting.</p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="../../../manual/runtime-environment/launching-a-domain/" title="Launching a Domain"> <i class="fa fa-chevron-left"></i><label>Launching a Domain</label></a>
    <a class="nav nav-next" href="../../../manual/runtime-environment/file-system/" title="File System" style="margin-right: 0px;"><label>File System</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="../../../js/clipboard.min.js"></script>

<link href="../../../css/featherlight.min.css" rel="stylesheet">
<script src="../../../js/featherlight.min.js"></script>



<script src="../../../theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>